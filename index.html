<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Economics ‚Äî Interactive Crash Course (Final Project)</title>
  <style>
    :root{
      --bg:#0b0f19;
      --card:#121a2b;
      --card2:#0f1626;
      --text:#e8eefc;
      --muted:#a9b7d6;
      --accent:#7aa2ff;
      --good:#6ee7b7;
      --warn:#fbbf24;
      --bad:#fb7185;
      --line:rgba(255,255,255,.10);
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      background: radial-gradient(1200px 700px at 15% 10%, rgba(122,162,255,.18), transparent 60%),
                  radial-gradient(900px 600px at 80% 0%, rgba(110,231,183,.14), transparent 55%),
                  radial-gradient(1000px 650px at 70% 80%, rgba(251,191,36,.12), transparent 60%),
                  var(--bg);
      color:var(--text);
      line-height:1.45;
    }

    a{color:var(--accent)}
    header{
      position:sticky;
      top:0;
      z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(11,15,25,.62);
      border-bottom:1px solid var(--line);
    }

    .wrap{max-width:1100px;margin:0 auto;padding:18px 18px}

    .topbar{
      display:flex;
      align-items:center;
      gap:14px;
      justify-content:space-between;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:240px;
    }

    .badge{
      width:38px;height:38px;
      border-radius:12px;
      background: linear-gradient(135deg, rgba(122,162,255,.9), rgba(110,231,183,.8));
      box-shadow: var(--shadow);
      display:grid;
      place-items:center;
      font-weight:800;
      color:#071024;
      letter-spacing:.5px;
    }

    .brand h1{
      margin:0;
      font-size:15px;
      line-height:1.2;
    }
    .brand p{margin:0;color:var(--muted);font-size:12px}

    nav{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:flex-end;
    }

    .pill{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      padding:7px 10px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      text-decoration:none;
      transition: transform .08s ease, background .2s ease;
      white-space:nowrap;
    }
    .pill:hover{transform: translateY(-1px); background: rgba(122,162,255,.10); color:var(--text)}

    main{padding:26px 0 60px}

    .hero{
      display:grid;
      grid-template-columns: 1.35fr .85fr;
      gap:18px;
      align-items:stretch;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card .inner{padding:18px}

    .hero h2{margin:0 0 10px;font-size:30px;letter-spacing:-.5px}
    .hero p{margin:0 0 12px;color:var(--muted)}

    .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:14px}
    .kpi{
      background: rgba(0,0,0,.18);
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
    }
    .kpi .n{font-weight:800;font-size:18px}
    .kpi .t{color:var(--muted);font-size:12px}

    .ctaRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    button{
      cursor:pointer;
      border:1px solid var(--line);
      background: rgba(122,162,255,.16);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      font-weight:700;
      transition: transform .08s ease, background .2s ease;
    }
    button:hover{transform: translateY(-1px); background: rgba(122,162,255,.24)}
    button.secondary{background: rgba(255,255,255,.05)}
    button.secondary:hover{background: rgba(255,255,255,.08)}

    .side{
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .callout{
      background: rgba(0,0,0,.20);
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
    }
    .callout h3{margin:0 0 6px;font-size:14px}
    .callout p{margin:0;color:var(--muted);font-size:12px}

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
      margin-top:18px;
    }

    .span6{grid-column: span 6}
    .span12{grid-column: span 12}
    .span7{grid-column: span 7}
    .span5{grid-column: span 5}

    @media (max-width: 900px){
      .hero{grid-template-columns:1fr}
      .kpis{grid-template-columns:1fr}
      .span6,.span7,.span5{grid-column: span 12}
      nav{justify-content:flex-start}
      .brand{min-width:auto}
    }

    .sectionTitle{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:10px;
      padding:16px 18px;
      border-bottom:1px solid var(--line);
      background: rgba(0,0,0,.14);
    }

    .sectionTitle h3{margin:0;font-size:15px}
    .sectionTitle .mini{color:var(--muted);font-size:12px}

    .row{display:grid;grid-template-columns: 1fr 1fr; gap:14px}
    .row3{display:grid;grid-template-columns: 1fr 1fr 1fr; gap:14px}
    @media (max-width: 900px){
      .row,.row3{grid-template-columns:1fr}
    }

    .box{
      background: rgba(0,0,0,.18);
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
    }
    .box h4{margin:0 0 8px;font-size:13px}
    .box p{margin:0;color:var(--muted);font-size:12px}

    .controls{display:flex;flex-direction:column;gap:10px;margin-top:10px}
    label{font-size:12px;color:var(--muted)}
    input[type="range"], select, input[type="number"], input[type="text"]{
      width:100%;
      accent-color: var(--accent);
    }
    select, input[type="number"], input[type="text"]{
      background: rgba(255,255,255,.06);
      border:1px solid var(--line);
      color:var(--text);
      border-radius:12px;
      padding:10px;
      outline:none;
    }

    .meter{
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:10px
    }
    .tag{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color:var(--muted);
    }
    .tag.good{color:#051b12;background:rgba(110,231,183,.85);border-color:transparent;font-weight:800}
    .tag.warn{color:#241600;background:rgba(251,191,36,.9);border-color:transparent;font-weight:800}
    .tag.bad{color:#2b0612;background:rgba(251,113,133,.9);border-color:transparent;font-weight:800}

    .divider{height:1px;background:var(--line);margin:14px 0}

    .quizQ{margin:0 0 8px}
    .answers{display:flex;flex-direction:column;gap:8px}
    .answers button{
      text-align:left;
      background: rgba(255,255,255,.05);
      font-weight:600;
    }

    .toast{
      margin-top:10px;
      border-radius:14px;
      padding:10px 12px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.22);
      color:var(--muted);
      font-size:12px;
      min-height:40px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .scoreRow{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .progress{
      flex:1;
      height:10px;
      background: rgba(255,255,255,.08);
      border-radius:999px;
      overflow:hidden;
      border:1px solid var(--line);
      min-width:200px;
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(122,162,255,1), rgba(110,231,183,1));
    }

    footer{
      color:var(--muted);
      font-size:12px;
      border-top:1px solid var(--line);
      padding:20px 0;
      background: rgba(0,0,0,.10);
    }

    .small{font-size:12px;color:var(--muted)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}

    .highlight{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(122,162,255,.10);
      font-size:12px;
      color:var(--text);
    }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:11px;
      border:1px solid var(--line);
      border-bottom-color: rgba(255,255,255,.22);
      padding:2px 6px;
      border-radius:8px;
      background: rgba(0,0,0,.24);
      color: var(--muted);
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap topbar">
      <div class="brand">
        <div class="badge">E</div>
        <div>
          <h1>Economics Final Project ‚Äî Interactive Website</h1>
          <p>Learn + test yourself with mini-sims (Supply & Demand, GDP, Inflation, Policy tools)</p>
        </div>
      </div>
      <nav aria-label="Page navigation">
        <a class="pill" href="#core">Core Concepts</a>
        <a class="pill" href="#markets">Markets</a>
        <a class="pill" href="#macro">Macroeconomics</a>
        <a class="pill" href="#policy">Policy</a>
        <a class="pill" href="#quiz">Final Quiz</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="card">
        <div class="inner">
          <div class="highlight"><span>üéì</span><span><b>Built for class</b> ‚Äî shareable + interactive + original</span></div>
          <h2>Economics, but make it interactive.</h2>
          <p>
            This site is a mini ‚ÄúEconomics toolbox‚Äù: scarcity and opportunity cost, supply & demand,
            market structures, GDP/inflation/unemployment, and the big policy tools.
            Use the sliders, read the explanations, and take the quiz at the end.
          </p>

          <div class="kpis">
            <div class="kpi"><div class="n" id="kpiConcepts">12</div><div class="t">Concepts covered</div></div>
            <div class="kpi"><div class="n" id="kpiSims">4</div><div class="t">Interactive sims</div></div>
            <div class="kpi"><div class="n" id="kpiQuiz">10</div><div class="t">Quiz questions</div></div>
          </div>

          <div class="ctaRow">
            <button id="btnStart">Start at the first sim</button>
            <button class="secondary" id="btnRandom">Random concept</button>
            <button class="secondary" id="btnReset">Reset everything</button>
          </div>

          <p class="small" style="margin-top:12px">Tip: Press <span class="kbd">/</span> to jump to search.</p>
        </div>
      </div>

      <div class="side">
        <div class="card">
          <div class="inner">
            <h3 style="margin:0 0 8px">Your Progress</h3>
            <div class="scoreRow">
              <div class="small">Concepts explored</div>
              <div class="progress" aria-label="progress bar"><div class="bar" id="progressBar"></div></div>
              <div class="mono" id="progressLabel">0 / 12</div>
            </div>
            <div class="divider"></div>
            <div class="small">Mark a section as ‚Äúvisited‚Äù by using a sim, opening a dropdown, or answering a quiz question.</div>
          </div>
        </div>

        <div class="callout">
          <h3>How to present this to the class</h3>
          <p>
            Project your screen, run the Supply & Demand slider demo,
            then let classmates answer the quiz for points.
          </p>
        </div>
      </div>
    </section>

    <!-- CORE CONCEPTS -->
    <section id="core" class="card" style="margin-top:18px">
      <div class="sectionTitle">
        <h3>Core Concepts</h3>
        <div class="mini">Scarcity ‚Ä¢ Opportunity Cost ‚Ä¢ PPC</div>
      </div>
      <div class="inner">
        <div class="row">
          <div class="box">
            <h4>Scarcity ‚Üí choices</h4>
            <p>
              Scarcity means resources are limited, so people, businesses, and governments must choose.
              Every choice has an <b>opportunity cost</b>: what you give up.
            </p>
            <div class="controls" data-visit="scarcity">
              <label>Pick a scarce resource:</label>
              <select id="scarceSelect">
                <option value="time">Time</option>
                <option value="money">Money</option>
                <option value="labor">Labor</option>
                <option value="land">Land</option>
              </select>
              <div class="toast" id="scarcityToast">Choose an option to see a real-life example.</div>
            </div>
          </div>

          <div class="box">
            <h4>Mini PPC Simulator (Production Possibilities Curve)</h4>
            <p>
              A PPC shows trade-offs between two goods. Moving along the curve = choosing.
              Shifting out = <b>economic growth</b> (better tech, more capital, higher productivity).
            </p>
            <div class="controls" data-visit="ppc">
              <label>Allocate resources between <b>Study Hours</b> and <b>Work Hours</b></label>
              <input type="range" id="ppcSlider" min="0" max="100" value="55" />
              <div class="meter">
                <span class="tag" id="ppcStudy">Study: 55</span>
                <span class="tag" id="ppcWork">Work: 45</span>
                <span class="tag" id="ppcOC">Opportunity Cost: ‚Äî</span>
              </div>
              <div class="divider"></div>
              <label>Growth factor (tech/capital/productivity)</label>
              <input type="range" id="ppcGrowth" min="0" max="40" value="10" />
              <div class="toast" id="ppcToast">Move sliders to see trade-offs and growth.</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MARKETS -->
    <section id="markets" class="card" style="margin-top:18px">
      <div class="sectionTitle">
        <h3>Markets</h3>
        <div class="mini">Supply & Demand ‚Ä¢ Equilibrium ‚Ä¢ Government Intervention</div>
      </div>
      <div class="inner">
        <div class="row">
          <div class="box">
            <h4>Supply & Demand ‚Äî Equilibrium Finder</h4>
            <p>
              Change <b>demand shifters</b> (income, tastes, substitutes) or <b>supply shifters</b>
              (input costs, technology, taxes/subsidies) to see what happens to price and quantity.
            </p>

            <div class="controls" data-visit="sd">
              <label>Demand (D) shift</label>
              <input type="range" id="dShift" min="-5" max="5" value="0" />
              <label>Supply (S) shift</label>
              <input type="range" id="sShift" min="-5" max="5" value="0" />

              <div class="meter">
                <span class="tag" id="tagPrice">Price: ‚Äî</span>
                <span class="tag" id="tagQty">Quantity: ‚Äî</span>
                <span class="tag" id="tagStatus">Market: ‚Äî</span>
              </div>

              <div class="divider"></div>

              <label>Government intervention</label>
              <select id="govPick">
                <option value="none">None</option>
                <option value="ceiling">Price Ceiling</option>
                <option value="floor">Price Floor</option>
                <option value="tax">Excise Tax</option>
                <option value="subsidy">Subsidy</option>
              </select>
              <div class="toast" id="sdToast">Adjust shifts to create a shortage or surplus.</div>
            </div>
          </div>

          <div class="box">
            <h4>Market Structures ‚Äî ‚ÄúWhich one is it?‚Äù</h4>
            <p>
              Four big market structures: <b>Perfect Competition</b>, <b>Monopolistic Competition</b>,
              <b>Oligopoly</b>, <b>Monopoly</b>. Use the quick classifier below.
            </p>

            <div class="controls" data-visit="structures">
              <label>Number of sellers</label>
              <select id="sellers">
                <option value="many">Many</option>
                <option value="few">A few</option>
                <option value="one">One</option>
              </select>
              <label>Products</label>
              <select id="products">
                <option value="identical">Identical</option>
                <option value="differentiated">Differentiated</option>
              </select>
              <label>Barriers to entry</label>
              <select id="barriers">
                <option value="low">Low</option>
                <option value="high">High</option>
              </select>

              <div class="toast" id="msToast">Pick settings to identify the market structure.</div>

              <div class="meter">
                <span class="tag" id="msTag">Structure: ‚Äî</span>
                <span class="tag" id="msControl">Price control: ‚Äî</span>
              </div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="row3">
          <div class="box" data-visit="systems">
            <h4>Economic Systems</h4>
            <p>
              <b>Command</b> = government decides. <b>Market</b> = buyers/sellers decide.
              <b>Mixed</b> = combination (most countries).
            </p>
          </div>
          <div class="box" data-visit="govrole">
            <h4>Government‚Äôs role</h4>
            <p>
              Fixes <b>market failures</b> (public goods, externalities), sets rules,
              and redistributes income through taxes/spending.
            </p>
          </div>
          <div class="box" data-visit="profits">
            <h4>Firms: Costs & Profit</h4>
            <p>
              Profit = Revenue ‚àí Cost. Firms use <b>marginal analysis</b>: if MB ‚â• MC, keep going.
              Watch for fixed vs variable costs.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- MACRO -->
    <section id="macro" class="card" style="margin-top:18px">
      <div class="sectionTitle">
        <h3>Macroeconomics</h3>
        <div class="mini">GDP ‚Ä¢ Inflation/CPI ‚Ä¢ Unemployment ‚Ä¢ Business Cycle</div>
      </div>
      <div class="inner">
        <div class="row">
          <div class="box">
            <h4>GDP Calculator (C + I + G + (X ‚àí M))</h4>
            <p>
              GDP measures total value of final goods/services produced in a country.
              Use this tool to calculate total GDP and interpret the result.
            </p>

            <div class="controls" data-visit="gdp">
              <label>Consumption (C)</label>
              <input type="number" id="gC" value="120" min="0" />
              <label>Investment (I)</label>
              <input type="number" id="gI" value="40" min="0" />
              <label>Government (G)</label>
              <input type="number" id="gG" value="60" min="0" />
              <label>Exports (X)</label>
              <input type="number" id="gX" value="25" min="0" />
              <label>Imports (M)</label>
              <input type="number" id="gM" value="30" min="0" />

              <div class="meter">
                <span class="tag" id="gdpTag">GDP: ‚Äî</span>
                <span class="tag" id="gdpNote">Interpretation: ‚Äî</span>
              </div>
            </div>
          </div>

          <div class="box">
            <h4>Inflation & CPI (Mini)</h4>
            <p>
              CPI tracks the price level of a basket of goods. Inflation rate = % change in CPI.
              Higher inflation can hurt savers, help borrowers, and change real wages.
            </p>

            <div class="controls" data-visit="inflation">
              <label>CPI last year</label>
              <input type="number" id="cpi0" value="250" min="1" />
              <label>CPI this year</label>
              <input type="number" id="cpi1" value="260" min="1" />
              <label>Nominal wage (your pay)</label>
              <input type="number" id="nomW" value="20" min="0" step="0.01" />
              <div class="meter">
                <span class="tag" id="inflTag">Inflation: ‚Äî</span>
                <span class="tag" id="realTag">Real wage: ‚Äî</span>
              </div>
              <div class="toast" id="inflToast">Try raising CPI this year and watch real wage change.</div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="row3">
          <div class="box" data-visit="unemp">
            <h4>Unemployment</h4>
            <p>
              3 types: <b>frictional</b> (between jobs), <b>structural</b> (skills mismatch),
              <b>cyclical</b> (recession). Natural rate = frictional + structural.
            </p>
          </div>
          <div class="box" data-visit="cycle">
            <h4>Business cycle</h4>
            <p>
              Expansion ‚Üí Peak ‚Üí Contraction ‚Üí Trough.
              Policy tries to smooth extremes.
            </p>
          </div>
          <div class="box" data-visit="cflow">
            <h4>Circular Flow</h4>
            <p>
              Households sell resources in the factor market and buy goods in the product market.
              Money flows opposite of goods/resources.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- POLICY -->
    <section id="policy" class="card" style="margin-top:18px">
      <div class="sectionTitle">
        <h3>Policy Tools</h3>
        <div class="mini">Fiscal Policy ‚Ä¢ Monetary Policy ‚Ä¢ Money</div>
      </div>
      <div class="inner">
        <div class="row">
          <div class="box">
            <h4>Fiscal Policy Picker</h4>
            <p>
              Fiscal policy = government spending and taxes.
              Expansionary helps in recession; contractionary helps slow inflation.
            </p>

            <div class="controls" data-visit="fiscal">
              <label>Economy status</label>
              <select id="econStatus">
                <option value="recession">Recession (high unemployment)</option>
                <option value="overheat">Overheating (high inflation)</option>
                <option value="stable">Stable</option>
              </select>

              <div class="toast" id="fiscalToast">Pick an economy status to see the recommended fiscal policy.</div>
              <div class="meter">
                <span class="tag" id="fiscalTag">Policy: ‚Äî</span>
                <span class="tag" id="fiscalTools">Tools: ‚Äî</span>
              </div>
            </div>
          </div>

          <div class="box">
            <h4>Monetary Policy (Fed) ‚Äî Rate/OMO Simulator</h4>
            <p>
              Monetary policy changes the money supply and interest rates.
              The Fed can use open market operations (buy/sell bonds), reserve requirements,
              and the discount rate.
            </p>

            <div class="controls" data-visit="monetary">
              <label>Fed action</label>
              <select id="fedAction">
                <option value="buy">Buy bonds (increase money supply)</option>
                <option value="sell">Sell bonds (decrease money supply)</option>
              </select>
              <label>Interest rate level</label>
              <input type="range" id="rate" min="0" max="10" value="4" />

              <div class="meter">
                <span class="tag" id="moneyTag">Money supply: ‚Äî</span>
                <span class="tag" id="rateTag">Interest rate: ‚Äî</span>
                <span class="tag" id="impactTag">Likely impact: ‚Äî</span>
              </div>
              <div class="toast" id="moneyToast">Try ‚ÄúSell bonds‚Äù and raise rates to cool inflation.</div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="box" data-visit="money">
          <h4>What even is money?</h4>
          <p>
            Money functions as: <b>medium of exchange</b>, <b>store of value</b>, <b>unit of account</b>.
            Currency can be fiat money, commodity money, or used in barter systems.
          </p>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="card" style="margin-top:18px">
      <div class="sectionTitle">
        <h3>Final Quiz</h3>
        <div class="mini">10 questions ‚Ä¢ instant feedback</div>
      </div>
      <div class="inner">
        <div class="row">
          <div class="box">
            <h4>Quiz</h4>
            <p class="small">Answer each question. Your score updates live.</p>

            <div id="quizArea"></div>

            <div class="divider"></div>

            <div class="meter">
              <span class="tag" id="quizScore">Score: 0 / 10</span>
              <span class="tag" id="quizGrade">Grade: ‚Äî</span>
            </div>
          </div>

          <div class="box">
            <h4>Explain Like I‚Äôm 9th Grade (Auto)</h4>
            <p class="small">Click a concept and get a quick ‚Äúteach it‚Äù explanation.</p>

            <div class="controls" data-visit="explain">
              <select id="explainPick">
                <option value="scarcity">Scarcity</option>
                <option value="opcost">Opportunity Cost</option>
                <option value="ppc">PPC</option>
                <option value="equilibrium">Equilibrium</option>
                <option value="inflation">Inflation</option>
                <option value="unemployment">Unemployment types</option>
                <option value="fiscal">Fiscal policy</option>
                <option value="monetary">Monetary policy</option>
              </select>
              <div class="toast" id="explainToast">Pick a concept to generate a quick explanation.</div>
            </div>

            <div class="divider"></div>
            <h4>Presentation Script (30 seconds)</h4>
            <p class="small">
              ‚ÄúMy project is an interactive economics website. It teaches core concepts like scarcity and opportunity cost,
              then lets you experiment with supply and demand, GDP, inflation, and policy tools using sliders.
              Instead of just memorizing definitions, you can see how changes cause shortages, surpluses,
              and changes in price, output, and unemployment. The quiz at the end checks understanding in real time.‚Äù
            </p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="wrap">
      <div style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap">
        <div>
          <b>Economics Final Project Website</b>
          <div class="small">Made as a creative, original, shareable product for class.</div>
        </div>
        <div class="small">Tip: To share, host on Google Sites or GitHub Pages.</div>
      </div>
    </div>
  </footer>

  <div class="wrap" style="padding-bottom:40px"></div>

  <script>
    // --- Small state tracker for "visited" concepts ---
    const visited = new Set();
    const TOTAL_CONCEPTS = 12;

    function markVisited(key){
      if(!key) return;
      if(!visited.has(key)){
        visited.add(key);
        updateProgress();
      }
    }

    function updateProgress(){
      const n = visited.size;
      const pct = Math.min(100, Math.round((n / TOTAL_CONCEPTS) * 100));
      document.getElementById('progressBar').style.width = pct + '%';
      document.getElementById('progressLabel').textContent = `${n} / ${TOTAL_CONCEPTS}`;
    }

    // Mark boxes with data-visit when user interacts
    document.querySelectorAll('[data-visit]').forEach(el => {
      el.addEventListener('input', () => markVisited(el.getAttribute('data-visit')));
      el.addEventListener('change', () => markVisited(el.getAttribute('data-visit')));
      el.addEventListener('click', () => markVisited(el.getAttribute('data-visit')));
    });

    // --- Hero buttons ---
    document.getElementById('btnStart').addEventListener('click', () => {
      location.hash = '#core';
      document.getElementById('ppcSlider').focus();
    });

    const conceptAnchors = ['#core','#markets','#macro','#policy','#quiz'];
    document.getElementById('btnRandom').addEventListener('click', () => {
      const pick = conceptAnchors[Math.floor(Math.random() * conceptAnchors.length)];
      location.hash = pick;
    });

    document.getElementById('btnReset').addEventListener('click', () => {
      visited.clear();
      updateProgress();
      // reset interactive values
      document.getElementById('dShift').value = 0;
      document.getElementById('sShift').value = 0;
      document.getElementById('govPick').value = 'none';
      document.getElementById('ppcSlider').value = 55;
      document.getElementById('ppcGrowth').value = 10;
      document.getElementById('gC').value = 120;
      document.getElementById('gI').value = 40;
      document.getElementById('gG').value = 60;
      document.getElementById('gX').value = 25;
      document.getElementById('gM').value = 30;
      document.getElementById('cpi0').value = 250;
      document.getElementById('cpi1').value = 260;
      document.getElementById('nomW').value = 20;
      document.getElementById('econStatus').value = 'recession';
      document.getElementById('fedAction').value = 'buy';
      document.getElementById('rate').value = 4;
      // reset quiz
      resetQuiz();
      // re-render sims
      renderScarcity();
      renderPPC();
      renderSupplyDemand();
      renderMarketStructure();
      renderGDP();
      renderInflation();
      renderFiscal();
      renderMonetary();
      renderExplain();
    });

    // --- Search shortcut: press / to focus a quick search input (created on the fly) ---
    const search = document.createElement('input');
    search.type = 'text';
    search.placeholder = 'Search concepts (e.g., inflation, GDP, monopoly)‚Ä¶';
    search.setAttribute('aria-label','search concepts');
    search.style.position = 'fixed';
    search.style.left = '50%';
    search.style.bottom = '16px';
    search.style.transform = 'translateX(-50%)';
    search.style.maxWidth = '720px';
    search.style.width = 'calc(100% - 36px)';
    search.style.zIndex = '20';
    search.style.display = 'none';
    document.body.appendChild(search);

    document.addEventListener('keydown', (e) => {
      if(e.key === '/' && document.activeElement !== search){
        e.preventDefault();
        search.style.display = 'block';
        search.focus();
      }
      if(e.key === 'Escape' && document.activeElement === search){
        search.value = '';
        search.style.display = 'none';
      }
    });

    const searchMap = {
      'scarcity':'#core','opportunity':'#core','opportunity cost':'#core','ppc':'#core','production possibilities':'#core',
      'supply':'#markets','demand':'#markets','equilibrium':'#markets','tax':'#markets','subsidy':'#markets','price floor':'#markets','price ceiling':'#markets',
      'monopoly':'#markets','oligopoly':'#markets','competition':'#markets',
      'gdp':'#macro','inflation':'#macro','cpi':'#macro','unemployment':'#macro','business cycle':'#macro',
      'fiscal':'#policy','monetary':'#policy','fed':'#policy','money':'#policy'
    };

    search.addEventListener('keydown', (e) => {
      if(e.key === 'Enter'){
        const q = search.value.trim().toLowerCase();
        const key = Object.keys(searchMap).find(k => q.includes(k));
        if(key){
          location.hash = searchMap[key];
          search.style.display = 'none';
          search.value = '';
        }
      }
    });

    // --- Scarcity examples ---
    const scarcityToast = document.getElementById('scarcityToast');
    const scarceSelect = document.getElementById('scarceSelect');

    function renderScarcity(){
      const v = scarceSelect.value;
      const examples = {
        time: "Time is scarce: choosing to work a shift means you give up time to study, sleep, or hang out.",
        money: "Money is scarce: buying new shoes means less money for gas or saving.",
        labor: "Labor is scarce: a business can‚Äôt hire unlimited workers, so it chooses who to hire and what to pay.",
        land: "Land is scarce: building apartments near campus means less land for parks or businesses." 
      };
      scarcityToast.textContent = examples[v];
      markVisited('scarcity');
    }
    scarceSelect.addEventListener('change', renderScarcity);

    // --- PPC simulator ---
    const ppcSlider = document.getElementById('ppcSlider');
    const ppcGrowth = document.getElementById('ppcGrowth');

    function renderPPC(){
      const study = Number(ppcSlider.value);
      const work = 100 - study;
      const growth = Number(ppcGrowth.value);

      document.getElementById('ppcStudy').textContent = `Study: ${study}`;
      document.getElementById('ppcWork').textContent = `Work: ${work}`;

      // Opportunity cost: each +10 study costs about (10 + diminishing returns factor)
      const oc = (study > 50) ? `More study now costs more free time (DMR idea).` : `More work now costs more study time.`;
      document.getElementById('ppcOC').textContent = `Opportunity Cost: ${oc}`;

      const toast = document.getElementById('ppcToast');
      toast.textContent = `Growth set to +${growth}%: your PPC shifts outward (more possible with same time) when productivity/tech improves.`;

      markVisited('ppc');
    }
    ppcSlider.addEventListener('input', renderPPC);
    ppcGrowth.addEventListener('input', renderPPC);

    // --- Supply & demand equilibrium model (simple) ---
    const dShift = document.getElementById('dShift');
    const sShift = document.getElementById('sShift');
    const govPick = document.getElementById('govPick');

    function renderSupplyDemand(){
      // baseline equilibrium
      const basePrice = 10;
      const baseQty = 100;

      const D = Number(dShift.value); // -5..5
      const S = Number(sShift.value);

      // If demand increases -> price and qty tend to rise; if supply increases -> price down qty up
      let price = basePrice + (D * 0.9) - (S * 0.8);
      let qty = baseQty + (D * 7) + (S * 8);

      // Government intervention
      const g = govPick.value;
      let status = 'Equilibrium-ish';
      let note = '';

      if(g === 'ceiling'){
        const ceiling = 9;
        if(price > ceiling){
          status = 'Shortage (price ceiling)';
          note = 'Ceiling below market price ‚Üí shortage + lines/black markets.';
          price = ceiling;
          qty = Math.max(0, qty - 12);
        } else {
          status = 'No binding ceiling';
          note = 'Ceiling above market price doesn‚Äôt change much.';
        }
      }

      if(g === 'floor'){
        const floor = 12;
        if(price < floor){
          status = 'Surplus (price floor)';
          note = 'Floor above market price ‚Üí surplus.';
          price = floor;
          qty = Math.max(0, qty - 10);
        } else {
          status = 'No binding floor';
          note = 'Floor below market price doesn‚Äôt change much.';
        }
      }

      if(g === 'tax'){
        // tax raises prices paid and lowers qty
        status = 'Tax wedge';
        note = 'Excise taxes raise consumer price and reduce quantity.';
        price = price + 1.6;
        qty = Math.max(0, qty - 10);
      }

      if(g === 'subsidy'){
        status = 'Subsidy boost';
        note = 'Subsidies lower effective costs ‚Üí more quantity, lower price.';
        price = Math.max(0, price - 1.2);
        qty = qty + 10;
      }

      // Shortage/surplus heuristic (based on shifts)
      if(g === 'none'){
        if(D > 2 && S < -2) status = 'Likely shortage pressure';
        if(D < -2 && S > 2) status = 'Likely surplus pressure';
        if(Math.abs(D) <= 1 && Math.abs(S) <= 1) status = 'Near equilibrium';
      }

      // display
      const tagPrice = document.getElementById('tagPrice');
      const tagQty = document.getElementById('tagQty');
      const tagStatus = document.getElementById('tagStatus');
      tagPrice.textContent = `Price: ${price.toFixed(1)}`;
      tagQty.textContent = `Quantity: ${Math.round(qty)}`;
      tagStatus.textContent = `Market: ${status}`;

      // color tags
      tagStatus.className = 'tag';
      if(status.toLowerCase().includes('shortage')) tagStatus.classList.add('warn');
      else if(status.toLowerCase().includes('surplus')) tagStatus.classList.add('warn');
      else if(status.toLowerCase().includes('tax')) tagStatus.classList.add('bad');
      else if(status.toLowerCase().includes('subsidy')) tagStatus.classList.add('good');

      document.getElementById('sdToast').textContent = note || 'Tip: Demand up & supply down tends to raise price. Demand down & supply up tends to lower price.';

      markVisited('sd');
    }
    dShift.addEventListener('input', renderSupplyDemand);
    sShift.addEventListener('input', renderSupplyDemand);
    govPick.addEventListener('change', renderSupplyDemand);

    // --- Market structure classifier ---
    const sellers = document.getElementById('sellers');
    const products = document.getElementById('products');
    const barriers = document.getElementById('barriers');

    function renderMarketStructure(){
      const a = sellers.value;
      const b = products.value;
      const c = barriers.value;

      let structure = '‚Äî';
      let control = '‚Äî';

      if(a === 'one'){
        structure = 'Monopoly';
        control = 'High price control';
      } else if(a === 'few'){
        structure = 'Oligopoly';
        control = 'Some price control (interdependent)';
      } else {
        // many sellers
        if(b === 'identical' && c === 'low'){
          structure = 'Perfect Competition';
          control = 'No price control (price takers)';
        } else {
          structure = 'Monopolistic Competition';
          control = 'Some price control (branding/differentiation)';
        }
      }

      document.getElementById('msTag').textContent = `Structure: ${structure}`;
      document.getElementById('msControl').textContent = `Price control: ${control}`;
      document.getElementById('msToast').textContent = `Result: ${structure}. (Change barriers/products to see why.)`;

      markVisited('structures');
      markVisited('systems');
      markVisited('govrole');
      markVisited('profits');
    }
    [sellers, products, barriers].forEach(el => el.addEventListener('change', renderMarketStructure));

    // --- GDP calculator ---
    function renderGDP(){
      const C = Number(document.getElementById('gC').value);
      const I = Number(document.getElementById('gI').value);
      const G = Number(document.getElementById('gG').value);
      const X = Number(document.getElementById('gX').value);
      const M = Number(document.getElementById('gM').value);

      const gdp = C + I + G + (X - M);
      document.getElementById('gdpTag').textContent = `GDP: ${gdp.toFixed(0)}`;

      let interp = '‚Äî';
      if(gdp > 220) interp = 'Higher output (more spending/production)';
      if(gdp < 180) interp = 'Lower output (possible slowdown)';
      document.getElementById('gdpNote').textContent = `Interpretation: ${interp}`;
      markVisited('gdp');
      markVisited('cflow');
    }
    ['gC','gI','gG','gX','gM'].forEach(id => document.getElementById(id).addEventListener('input', renderGDP));

    // --- Inflation/CPI ---
    function renderInflation(){
      const c0 = Number(document.getElementById('cpi0').value);
      const c1 = Number(document.getElementById('cpi1').value);
      const nominal = Number(document.getElementById('nomW').value);

      const infl = ((c1 - c0) / c0) * 100;
      document.getElementById('inflTag').textContent = `Inflation: ${infl.toFixed(2)}%`;

      // real wage approximation
      const real = nominal / (c1 / c0);
      document.getElementById('realTag').textContent = `Real wage: ${real.toFixed(2)}`;

      document.getElementById('inflToast').textContent = infl > 3
        ? 'Inflation is rising: your real purchasing power drops unless your wage increases.'
        : 'Inflation is mild: real purchasing power changes slowly.';

      markVisited('inflation');
      markVisited('unemp');
      markVisited('cycle');
    }
    ['cpi0','cpi1','nomW'].forEach(id => document.getElementById(id).addEventListener('input', renderInflation));

    // --- Fiscal policy picker ---
    const econStatus = document.getElementById('econStatus');
    function renderFiscal(){
      const st = econStatus.value;
      let policy = '‚Äî';
      let tools = '‚Äî';

      if(st === 'recession'){
        policy = 'Expansionary';
        tools = 'Increase government spending and/or cut taxes';
      } else if(st === 'overheat'){
        policy = 'Contractionary';
        tools = 'Decrease government spending and/or raise taxes';
      } else {
        policy = 'Neutral / targeted';
        tools = 'Small adjustments, focus on long-term growth';
      }

      document.getElementById('fiscalTag').textContent = `Policy: ${policy}`;
      document.getElementById('fiscalTools').textContent = `Tools: ${tools}`;
      document.getElementById('fiscalToast').textContent = `If the economy is ${st}, fiscal policy should usually be ${policy}.`;

      markVisited('fiscal');
    }
    econStatus.addEventListener('change', renderFiscal);

    // --- Monetary policy simulator ---
    const fedAction = document.getElementById('fedAction');
    const rate = document.getElementById('rate');

    function renderMonetary(){
      const action = fedAction.value;
      const r = Number(rate.value);

      let moneySupply = action === 'buy' ? 'Increase' : 'Decrease';
      let impact = '‚Äî';

      if(action === 'buy'){
        impact = r <= 4 ? 'Cheaper borrowing ‚Üí more spending/investment' : 'Mixed (rates high but money supply rising)';
      } else {
        impact = r >= 6 ? 'Harder borrowing ‚Üí cool inflation, slower growth' : 'Mixed (money supply down but rates not too high)';
      }

      document.getElementById('moneyTag').textContent = `Money supply: ${moneySupply}`;
      document.getElementById('rateTag').textContent = `Interest rate: ${r.toFixed(0)}%`;
      document.getElementById('impactTag').textContent = `Likely impact: ${impact}`;

      document.getElementById('moneyToast').textContent = action === 'sell'
        ? 'Selling bonds pulls money out of the economy (tightening).'
        : 'Buying bonds injects money into the economy (easing).';

      markVisited('monetary');
      markVisited('money');
    }
    fedAction.addEventListener('change', renderMonetary);
    rate.addEventListener('input', renderMonetary);

    // --- Explain tool ---
    const explainPick = document.getElementById('explainPick');
    const explainToast = document.getElementById('explainToast');

    function renderExplain(){
      const v = explainPick.value;
      const text = {
        scarcity: "Scarcity means there isn‚Äôt unlimited stuff. Because resources are limited, you have to choose what to do, buy, or produce.",
        opcost: "Opportunity cost is what you give up when you choose something. If you buy one thing, you‚Äôre giving up the chance to buy something else.",
        ppc: "A PPC shows the trade-off between two choices. If you make more of one thing, you usually make less of the other.",
        equilibrium: "Equilibrium is where supply and demand meet. That‚Äôs the price and quantity the market naturally settles on.",
        inflation: "Inflation is when prices rise over time. If your pay doesn‚Äôt rise too, you can buy less with the same money.",
        unemployment: "Frictional = between jobs, structural = skills don‚Äôt match, cyclical = recession. Natural rate is frictional + structural.",
        fiscal: "Fiscal policy is the government changing spending and taxes. Expansionary fights recessions, contractionary cools inflation.",
        monetary: "Monetary policy is the Fed changing money supply and interest rates. Lower rates = more borrowing/spending; higher rates = less." 
      };
      explainToast.textContent = text[v] || 'Pick a concept.';
      markVisited('explain');
    }
    explainPick.addEventListener('change', renderExplain);

    // --- Quiz ---
    const quizQuestions = [
      {
        q: "Scarcity means‚Ä¶",
        options: ["resources are unlimited", "resources are limited so choices are required", "prices always rise", "everyone has the same income"],
        a: 1,
        key: 'scarcity'
      },
      {
        q: "Opportunity cost is best defined as‚Ä¶",
        options: ["the money you spend", "the value of the next best option you give up", "taxes you pay", "a company‚Äôs profit"],
        a: 1,
        key: 'ppc'
      },
      {
        q: "If demand increases (shifts right) and supply stays the same, equilibrium price usually‚Ä¶",
        options: ["falls", "rises", "stays the same", "becomes zero"],
        a: 1,
        key: 'sd'
      },
      {
        q: "A price ceiling set below equilibrium causes a‚Ä¶",
        options: ["surplus", "shortage", "bigger supply", "higher wages"],
        a: 1,
        key: 'sd'
      },
      {
        q: "Many sellers + identical products + low barriers to entry =",
        options: ["monopoly", "oligopoly", "perfect competition", "monopolistic competition"],
        a: 2,
        key: 'structures'
      },
      {
        q: "GDP can be calculated as‚Ä¶",
        options: ["C + I + G + (X ‚àí M)", "Income ‚àí taxes", "Supply + demand", "Wages √ó hours"],
        a: 0,
        key: 'gdp'
      },
      {
        q: "Inflation rate is based on % change in‚Ä¶",
        options: ["GDP", "CPI", "interest rates", "unemployment"],
        a: 1,
        key: 'inflation'
      },
      {
        q: "Cyclical unemployment is most connected to‚Ä¶",
        options: ["people switching jobs", "skills mismatch", "recessions", "graduation"],
        a: 2,
        key: 'unemp'
      },
      {
        q: "Expansionary fiscal policy usually means‚Ä¶",
        options: ["raise taxes and cut spending", "cut taxes and/or increase spending", "sell bonds", "raise interest rates"],
        a: 1,
        key: 'fiscal'
      },
      {
        q: "When the Fed sells bonds, money supply tends to‚Ä¶",
        options: ["increase", "decrease", "stay the same", "turn into gold"],
        a: 1,
        key: 'monetary'
      },
    ];

    let quizState = {score:0, answered:new Set()};

    function gradeLabel(score){
      if(score >= 9) return 'A';
      if(score >= 8) return 'B';
      if(score >= 7) return 'C';
      if(score >= 6) return 'D';
      return 'F';
    }

    function renderQuiz(){
      const area = document.getElementById('quizArea');
      area.innerHTML = '';

      quizQuestions.forEach((item, idx) => {
        const wrap = document.createElement('div');
        wrap.style.marginBottom = '14px';

        const q = document.createElement('p');
        q.className = 'quizQ';
        q.innerHTML = `<b>${idx+1}.</b> ${item.q}`;

        const answers = document.createElement('div');
        answers.className = 'answers';

        item.options.forEach((opt, i) => {
          const b = document.createElement('button');
          b.type = 'button';
          b.textContent = opt;
          b.addEventListener('click', () => {
            if(quizState.answered.has(idx)) return;
            quizState.answered.add(idx);
            const correct = i === item.a;
            if(correct) quizState.score += 1;

            // style feedback
            b.style.background = correct ? 'rgba(110,231,183,.22)' : 'rgba(251,113,133,.18)';
            b.style.borderColor = correct ? 'rgba(110,231,183,.55)' : 'rgba(251,113,133,.5)';

            // mark correct answer too
            const btns = answers.querySelectorAll('button');
            btns.forEach((bb, j) => {
              if(j === item.a){
                bb.style.background = 'rgba(110,231,183,.22)';
                bb.style.borderColor = 'rgba(110,231,183,.55)';
              }
              bb.disabled = true;
            });

            // update score
            document.getElementById('quizScore').textContent = `Score: ${quizState.score} / ${quizQuestions.length}`;
            document.getElementById('quizGrade').textContent = `Grade: ${gradeLabel(quizState.score)}`;

            markVisited(item.key);
            markVisited('explain');
          });
          answers.appendChild(b);
        });

        wrap.appendChild(q);
        wrap.appendChild(answers);
        area.appendChild(wrap);
      });
    }

    function resetQuiz(){
      quizState = {score:0, answered:new Set()};
      document.getElementById('quizScore').textContent = `Score: 0 / ${quizQuestions.length}`;
      document.getElementById('quizGrade').textContent = 'Grade: ‚Äî';
      renderQuiz();
    }

    // --- Init ---
    function init(){
      updateProgress();
      renderScarcity();
      renderPPC();
      renderSupplyDemand();
      renderMarketStructure();
      renderGDP();
      renderInflation();
      renderFiscal();
      renderMonetary();
      renderExplain();
      renderQuiz();
    }

    init();
  </script>
</body>
</html>
